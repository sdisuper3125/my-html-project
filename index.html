<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net-Weave | Marine Sustainability Bond</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Merriweather:wght@300;400;700&display=swap');

        body {
            font-family: 'DM Sans', sans-serif;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4 {
            font-family: 'Merriweather', serif;
        }

        /* 1. Hero Background */
        .hero-bg {
            background: linear-gradient(rgba(0, 32, 63, 0.9), rgba(0, 32, 63, 0.7)), url('https://images.unsplash.com/photo-1468581264429-2548ef9eb732?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .gradient-text {
            background: linear-gradient(135deg, #11caa0, #2dd4bf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #11caa0;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 0 0 4px rgba(17, 202, 160, 0.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: #e2e8f0;
            border-radius: 4px;
        }

        .org-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f8fafc;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            border: 1px solid #e2e8f0;
            color: #475569;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.3s;
        }
        .org-badge:hover {
            border-color: #11caa0;
            color: #0f766e;
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            border-radius: 1rem;
            position: relative;
        }

        /* Map Pin Animation */
        .map-pin {
            position: absolute;
            width: 14px; /* Reduced from 24px */
            height: 14px; /* Reduced from 24px */
            background: #11caa0;
            border: 2px solid white; /* Reduced border */
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            z-index: 10;
        }
        .map-pin:hover {
            transform: scale(1.5);
            background: #f59e0b;
            z-index: 50;
        }
        .map-pin::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px; /* Scaled down pulse */
            height: 24px;
            background: rgba(17, 202, 160, 0.4);
            border-radius: 50%;
            animation: pulse-ring 2s infinite;
            z-index: -1;
        }
        @keyframes pulse-ring {
            0% { width: 14px; height: 14px; opacity: 0.8; }
            100% { width: 40px; height: 40px; opacity: 0; }
        }
        
        /* Tooltip for Map */
        .pin-tooltip {
            position: absolute;
            background: white;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
            width: 260px;
            text-align: left;
            display: none;
            z-index: 200;
            font-size: 0.75rem;
            pointer-events: none;
            border: 1px solid #e2e8f0;
        }
        .map-pin:hover .pin-tooltip {
            display: block;
        }

        /* Financial Table Styling */
        .fin-table td {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #f1f5f9;
        }
        .fin-table tr:last-child td {
            border-bottom: none;
        }

        /* Image Cards for CAPEX */
        .capex-card {
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            border-radius: 0.75rem;
            transition: transform 0.3s ease;
        }
        .capex-card:hover {
            transform: scale(1.02);
        }
        .capex-overlay {
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1rem;
        }

        /* Waterfall Chart Bars */
        .wf-bar {
            height: 2.5rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            padding-left: 1rem;
            font-weight: bold;
            color: white;
            position: relative;
            transition: width 1s ease-out;
        }
        .wf-label {
            position: absolute;
            right: 1rem;
            color: white;
            font-weight: normal;
            font-size: 0.875rem;
        }

        /* Grid Item for Redemption */
        .store-item {
            transition: all 0.2s ease;
        }
        .store-item:hover {
            transform: translateY(-2px);
            border-color: #11caa0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Video Container */
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        .video-container video {
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }
        .hero-overlay {
            background: linear-gradient(rgba(0, 32, 63, 0.8), rgba(0, 32, 63, 0.6));
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* Custom Scrollbar for Store */
        .store-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .store-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        .store-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .store-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-white/95 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center gap-2">
                    <i class="fa-solid fa-infinity text-3xl text-teal-500"></i>
                    <span class="font-serif font-bold text-xl text-slate-900">Net-Weave</span>
                </div>
                <div class="hidden md:flex space-x-6 lg:space-x-8">
                    <a href="#map" class="text-slate-600 hover:text-teal-600 font-medium transition text-sm lg:text-base">Locations</a>
                    <a href="#supply-chain" class="text-slate-600 hover:text-teal-600 font-medium transition text-sm lg:text-base">Supply Chain</a>
                    <a href="#demo" class="text-slate-600 hover:text-teal-600 font-medium transition text-sm lg:text-base">Live Demo</a>
                    <a href="#financials" class="text-slate-600 hover:text-teal-600 font-medium transition text-sm lg:text-base">Financials</a>
                    <a href="#team" class="text-slate-600 hover:text-teal-600 font-medium transition text-sm lg:text-base">Team</a>
                </div>
                <a href="mailto:hchang325@bloomberg.net" class="bg-teal-500 hover:bg-teal-600 text-white px-5 py-2.5 rounded-full font-bold transition shadow-lg shadow-teal-500/30 text-sm">
                    Invest Now
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center pt-40 pb-20 overflow-hidden">
        <div class="video-container">
            <video autoplay muted loop playsinline>
                <source src="https://videos.pexels.com/video-files/854009/854009-hd_1920_1080_25fps.mp4" type="video/mp4">
            </video>
            <div class="hero-overlay"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="text-white space-y-8 animate-[fadeIn_1s_ease-out]">
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-teal-500/20 border border-teal-500/50 text-teal-300 text-sm font-medium backdrop-blur-sm">
                        <span class="w-2 h-2 rounded-full bg-teal-400 animate-pulse"></span>
                        Inaugural Marine Bond
                    </div>
                    <h1 class="text-5xl md:text-7xl font-bold leading-tight tracking-tight">
                        Turning <span class="text-teal-400">Ghost Nets</span> into <span class="text-teal-400">Social Wealth</span>.
                    </h1>
                    <p class="text-xl text-slate-200 max-w-lg leading-relaxed drop-shadow-md">
                        A market aggregator leveraging blockchain to transform marine waste into traceable recycled nylon and community welfare.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 pt-4">
                        <button onclick="document.getElementById('demo').scrollIntoView()" class="bg-white text-slate-900 px-8 py-4 rounded-full font-bold hover:bg-slate-100 transition flex items-center justify-center gap-2 shadow-xl">
                            <i class="fa-solid fa-play"></i> Try the Demo
                        </button>
                        <button onclick="document.getElementById('map').scrollIntoView()" class="bg-white/10 backdrop-blur-md border border-white/30 text-white px-8 py-4 rounded-full font-bold hover:bg-white/20 transition flex items-center justify-center gap-2">
                            <i class="fa-solid fa-map-location-dot"></i> View Locations
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-6 pt-12 border-t border-white/10 mt-8 pb-4 backdrop-blur-sm rounded-xl px-4 bg-black/20">
                        <div>
                            <div class="text-3xl font-bold text-white">24.3%</div>
                            <div class="text-sm text-teal-200">EBITDA Margin</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-white">21.9%</div>
                            <div class="text-sm text-teal-200">Project IRR</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-white">$105B</div>
                            <div class="text-sm text-teal-200">TAM Size</div>
                        </div>
                    </div>
                </div>
                
                <!-- Real-time Global Waste Counter -->
                <div class="hidden md:block relative h-[500px] flex items-center justify-center">
                    <div class="bg-slate-900/40 backdrop-blur-xl border border-white/20 p-8 rounded-3xl shadow-2xl max-w-md w-full relative overflow-hidden group">
                        <div class="absolute inset-0 bg-gradient-to-br from-teal-500/10 to-blue-600/10 opacity-0 group-hover:opacity-100 transition duration-700"></div>
                        
                        <div class="flex items-center justify-between mb-8 relative z-10">
                            <div class="text-white font-bold text-lg flex items-center gap-2">
                                <i class="fa-solid fa-globe text-teal-400 animate-pulse"></i> Global Crisis
                            </div>
                            <div class="text-xs font-mono text-red-400 border border-red-500/30 bg-red-500/10 px-2 py-1 rounded">LIVE ESTIMATE</div>
                        </div>

                        <div class="text-center space-y-2 mb-8 relative z-10">
                            <div class="text-sm text-slate-300 uppercase tracking-widest">Ghost Nets in Ocean (KG)</div>
                            <div class="text-5xl font-mono font-bold text-white tracking-tighter tabular-nums" id="global-counter">640,000,000</div>
                            <div class="text-xs text-slate-400 flex justify-center items-center gap-1">
                                <i class="fa-solid fa-arrow-trend-up text-red-500"></i> Continuous Influx (~2kg/sec)
                            </div>
                        </div>

                        <div class="space-y-4 relative z-10">
                            <div class="bg-white/5 p-4 rounded-xl border border-white/10 flex items-center gap-4">
                                <div class="bg-red-500/20 p-3 rounded-lg text-red-400"><i class="fa-solid fa-skull-crossbones text-xl"></i></div>
                                <div>
                                    <div class="text-2xl font-bold text-white">46%</div>
                                    <div class="text-xs text-slate-400">of Great Pacific Garbage Patch</div>
                                </div>
                            </div>
                            <div class="bg-white/5 p-4 rounded-xl border border-white/10 flex items-center gap-4">
                                <div class="bg-yellow-500/20 p-3 rounded-lg text-yellow-400"><i class="fa-solid fa-clock text-xl"></i></div>
                                <div>
                                    <div class="text-2xl font-bold text-white">600 Years</div>
                                    <div class="text-xs text-slate-400">Decomposition Time</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 pt-6 border-t border-white/10 text-center relative z-10">
                            <p class="text-sm text-teal-300 font-bold">Net-Weave turns this threat into value.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 2. Map Section -->
    <section id="map" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-teal-600 font-bold tracking-wider uppercase text-sm">Our Footprint</span>
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mt-2">Strategic Hub Locations</h2>
                <p class="text-slate-600 mt-4 max-w-2xl mx-auto">
                    We operate 12 hubs across key coastal provinces, strategically located near major industrial zones to streamline the supply chain for our B2B partners.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="relative bg-slate-50 rounded-3xl p-8 border border-slate-100 shadow-inner min-h-[600px] flex items-center justify-center overflow-hidden">
                    <div class="relative h-[550px] w-full flex justify-center">
                        <img src="https://images.jifo.co/65139249_1645604526205.png" alt="Vietnam Industrial Map" class="h-full object-contain opacity-90" style="max-width: 100%;">
                        
                        <!-- Map Pins -->
                        <div class="map-pin" style="top: 22%; left: 34%;">
                            <div class="pin-tooltip">
                                <div class="font-bold text-teal-600 border-b pb-1 mb-1">Hai Phong Hub</div>
                                <div class="text-left space-y-1">
                                    <div class="font-bold text-slate-700">Near: Dinh Vu-Cat Hai EZ</div>
                                    <div class="text-slate-500">Partner: VinFast, LG Display</div>
                                    <div class="text-teal-600 font-mono text-xs mt-1">180t Collected</div>
                                </div>
                            </div>
                        </div>
                        <!-- Da Nang (Shifted Right to 65%) -->
                        <div class="map-pin" style="top: 48%; left: 65%;">
                            <div class="pin-tooltip">
                                <div class="font-bold text-teal-600 border-b pb-1 mb-1">Da Nang Central</div>
                                <div class="text-left space-y-1">
                                    <div class="font-bold text-slate-700">Near: Hoa Khanh IZ</div>
                                    <div class="text-slate-500">Partner: Local Textile Co-ops</div>
                                    <div class="text-teal-600 font-mono text-xs mt-1">150t Collected</div>
                                </div>
                            </div>
                        </div>
                        <div class="map-pin" style="top: 68%; left: 44%;">
                            <div class="pin-tooltip">
                                <div class="font-bold text-teal-600 border-b pb-1 mb-1">Nha Trang Hub</div>
                                <div class="text-left space-y-1">
                                    <div class="font-bold text-slate-700">Near: Suoi Dau IZ</div>
                                    <div class="text-slate-500">Partner: Khatoco</div>
                                    <div class="text-teal-600 font-mono text-xs mt-1">120t Collected</div>
                                </div>
                            </div>
                        </div>
                        <div class="map-pin" style="top: 80%; left: 22%;">
                            <div class="pin-tooltip">
                                <div class="font-bold text-teal-600 border-b pb-1 mb-1">Vung Tau / Dong Nai</div>
                                <div class="text-left space-y-1">
                                    <div class="font-bold text-slate-700">Near: Pou Chen (Bien Hoa)</div>
                                    <div class="text-slate-500">Partner: Pou Chen, Far Eastern</div>
                                    <div class="text-teal-600 font-mono text-xs mt-1">200t Collected</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-8">
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center text-teal-600 text-xl"><i class="fa-solid fa-industry"></i></div>
                            <div>
                                <h4 class="font-bold text-lg">Proximity to Manufacturing</h4>
                                <p class="text-sm text-slate-500">Hubs are strategically located near major industrial zones like Tan Tao and Dinh Vu, enabling direct feedstock supply to partners.</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xl"><i class="fa-solid fa-handshake"></i></div>
                            <div>
                                <h4 class="font-bold text-lg">Key Industry Partners</h4>
                                <ul class="text-sm text-slate-500 list-disc list-inside">
                                    <li><strong>Pou Chen (寶成):</strong> Nike/Adidas OEM giant</li>
                                    <li><strong>Far Eastern New Century (遠東新世紀):</strong> Textile innovation</li>
                                    <li><strong>Formosa Industries:</strong> Polymer processing</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-900 text-white p-8 rounded-2xl shadow-xl">
                        <h4 class="font-bold mb-4">Phase 1 Target: Vietnam</h4>
                        <ul class="space-y-3 text-sm text-slate-300">
                            <li class="flex justify-between border-b border-white/10 pb-2"><span>Total Coastline Covered:</span> <span>3,260 km</span></li>
                            <li class="flex justify-between border-b border-white/10 pb-2"><span>Active Hubs:</span> <span>12</span></li>
                            <li class="flex justify-between pt-1"><span>Annual Capacity:</span> <span>1,800 tons</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Supply Chain Section -->
    <section id="supply-chain" class="py-24 bg-slate-50 border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-teal-600 font-bold tracking-wider uppercase text-sm">Value Chain Integration</span>
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mt-2">End-to-End Traceability</h2>
                <p class="text-slate-600 mt-4 max-w-2xl mx-auto">
                    We bridge the "First Mile" gap. By digitizing collection at the source, we provide global brands with the transparent, high-quality feedstock they desperately need.
                </p>
            </div>

            <div class="relative">
                <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-slate-200 -translate-y-1/2 z-0"></div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8 relative z-10">
                    <!-- Step 1 -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center sc-node">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-blue-600 shadow-sm">
                            <i class="fa-solid fa-ship"></i>
                        </div>
                        <h4 class="font-bold text-slate-900 text-lg">1. Source</h4>
                        <p class="text-sm text-slate-500 mt-2">Remote fishing communities in Vietnam & SE Asia.</p>
                        <div class="mt-4 inline-block bg-slate-100 px-3 py-1 rounded text-xs font-mono text-slate-600">Raw Waste Net</div>
                    </div>
                    <!-- Step 2 -->
                    <div class="bg-teal-600 p-6 rounded-2xl shadow-xl border border-teal-500 text-center transform md:scale-110 sc-node relative">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-md">OUR VALUE ADD</div>
                        <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-teal-600 shadow-sm">
                            <i class="fa-solid fa-infinity"></i>
                        </div>
                        <h4 class="font-bold text-white text-lg">2. Net-Weave Hub</h4>
                        <p class="text-sm text-teal-100 mt-2">Collection, Cleaning, Baling, & Blockchain Verification.</p>
                        <div class="mt-4 inline-block bg-teal-800 px-3 py-1 rounded text-xs font-mono text-teal-200">Verified Feedstock</div>
                    </div>
                    <!-- Step 3 -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center sc-node">
                        <div class="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-indigo-600 shadow-sm">
                            <i class="fa-solid fa-industry"></i>
                        </div>
                        <h4 class="font-bold text-slate-900 text-lg">3. Regeneration</h4>
                        <p class="text-sm text-slate-500 mt-2">Industrial depolymerization partners (e.g., Aquafil).</p>
                        <div class="mt-4 inline-block bg-slate-100 px-3 py-1 rounded text-xs font-mono text-slate-600">Econyl / Nylon 6</div>
                    </div>
                    <!-- Step 4 -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center sc-node">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-green-600 shadow-sm">
                            <i class="fa-solid fa-shirt"></i>
                        </div>
                        <h4 class="font-bold text-slate-900 text-lg">4. Global Brands</h4>
                        <p class="text-sm text-slate-500 mt-2">Adidas, Patagonia, Interface (ESG Compliance).</p>
                        <div class="mt-4 inline-block bg-slate-100 px-3 py-1 rounded text-xs font-mono text-slate-600">Consumer Product</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. FIXED: Redemption System Demo (Fixed Store Layout) -->
    <section id="demo" class="py-24 bg-slate-900 text-white relative">
        <div class="absolute inset-0 bg-gradient-to-br from-slate-900 to-slate-800"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-12">
                <span class="text-teal-400 font-bold tracking-wider uppercase text-sm border border-teal-500/30 px-3 py-1 rounded-full bg-teal-500/10">Live Web Demo</span>
                <h2 class="text-4xl font-bold mt-4">Digital Welfare Marketplace</h2>
                <p class="text-slate-400 mt-2">Real items fishers can redeem. This is how we convert pollution into human capital.</p>
            </div>

            <div class="grid lg:grid-cols-12 gap-8 items-start">
                <!-- Left: Wallet & Input (Static position, No Sticky) -->
                <div class="lg:col-span-4 space-y-6">
                    <div class="bg-white text-slate-900 rounded-3xl shadow-2xl overflow-hidden border-4 border-slate-700">
                        <div class="bg-teal-600 p-6 text-white">
                            <div class="text-xs opacity-80 uppercase tracking-wide">Fisher Wallet</div>
                            <div class="text-3xl font-bold flex items-center gap-2 mt-1">
                                <i class="fa-solid fa-coins"></i> <span id="wallet-balance">0</span>
                            </div>
                            <p class="text-xs text-teal-200 mt-2">Scan QR to receive credits</p>
                        </div>
                        
                        <div class="p-6 bg-slate-50 border-b border-slate-200">
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Log Net Collection (Kg)</label>
                            <div class="flex gap-2">
                                <input type="number" id="net-input" placeholder="kg" class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 outline-none font-mono text-lg">
                                <button onclick="depositNets()" class="bg-teal-600 hover:bg-teal-700 text-white px-6 rounded-xl font-bold transition shadow-lg shadow-teal-500/20 whitespace-nowrap">
                                    Log
                                </button>
                            </div>
                            <p class="text-xs text-slate-500 mt-3 flex items-center justify-between">
                                <span><i class="fa-solid fa-circle-info"></i> Rate: 15 Credits/kg</span>
                                <span class="text-green-600 font-bold"><i class="fa-solid fa-link"></i> Live</span>
                            </p>
                        </div>
                        <div id="demo-msg" class="p-4 text-center text-xs text-slate-500 font-mono min-h-[48px] flex items-center justify-center bg-slate-100">
                            System Ready. Waiting for input...
                        </div>
                    </div>
                    
                    <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700">
                        <h4 class="font-bold mb-4 text-sm uppercase tracking-wide text-slate-400">Category Filter</h4>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="filterItems('all')" class="px-3 py-1 rounded-full text-xs font-bold bg-teal-600 text-white filter-btn" data-filter="all">All</button>
                            <button onclick="filterItems('food')" class="px-3 py-1 rounded-full text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition filter-btn" data-filter="food">Food</button>
                            <button onclick="filterItems('health')" class="px-3 py-1 rounded-full text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition filter-btn" data-filter="health">Health</button>
                            <button onclick="filterItems('education')" class="px-3 py-1 rounded-full text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition filter-btn" data-filter="education">Education</button>
                            <button onclick="filterItems('tools')" class="px-3 py-1 rounded-full text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition filter-btn" data-filter="tools">Tools</button>
                        </div>
                    </div>
                </div>

                <!-- Right: Expanded Redemption Grid (Auto Height - No Scrollbar) -->
                <div class="lg:col-span-8 z-10">
                    <div class="bg-white rounded-3xl p-6 h-[600px] overflow-y-auto shadow-inner border border-slate-700 store-scroll" id="store-grid">
                        <!-- Items injected by JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Financials Section (Updated Chart) -->
    <section id="financials" class="py-24 bg-white border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-teal-600 font-bold tracking-wider uppercase text-sm">Investor Overview</span>
                <h2 class="text-3xl font-bold text-slate-900 mt-2">Financial Projections & Bond Details</h2>
                <p class="text-slate-600 mt-4 max-w-2xl mx-auto">
                    A rigorous financial model backed by dual-revenue streams (Material Sales + Impact Credits), ensuring stable returns and scalable impact.
                </p>
            </div>

            <!-- Top Row: Chart (Smaller Sized & Restored) -->
            <div class="grid lg:grid-cols-3 gap-12 items-start mb-16">
                <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-slate-100 relative">
                    <!-- Constrained Container Height -->
                    <div class="h-80">
                        <canvas id="financialChart"></canvas>
                    </div>
                </div>
                <div class="space-y-6">
                    <!-- Profit Waterfall / Visualization -->
                    <div class="bg-slate-900 text-white p-6 rounded-2xl shadow-xl">
                        <h4 class="font-bold text-teal-400 mb-6 flex items-center gap-2">
                            <i class="fa-solid fa-water"></i> Profit Waterfall (Year 3)
                        </h4>
                        <div class="space-y-4">
                            <!-- Revenue Mix Card -->
                             <div class="bg-white/10 p-3 rounded-lg mb-4">
                                <div class="text-xs text-slate-400 uppercase font-bold mb-2">Revenue Mix</div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Nylon Sales</span>
                                    <span class="font-bold text-teal-300">$2.7M</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span>Plastic Credits</span>
                                    <span class="font-bold text-yellow-300">$1.0M</span>
                                </div>
                             </div>
                            
                            <!-- Minus COGS -->
                            <div>
                                <div class="flex justify-between text-sm mb-1 text-slate-400">
                                    <span>(-) COGS: Fishers & Transport</span>
                                    <span>$2.0M</span>
                                </div>
                                <div class="wf-bar bg-slate-700 w-[54%]">
                                    <span class="z-10 relative px-2 text-xs">54%</span>
                                </div>
                            </div>

                            <!-- Minus OPEX -->
                            <div>
                                <div class="flex justify-between text-sm mb-1 text-slate-400">
                                    <span>(-) OPEX: Hub Operations</span>
                                    <span>$0.8M</span>
                                </div>
                                <div class="wf-bar bg-slate-600 w-[22%]">
                                    <span class="z-10 relative px-2 text-xs">22%</span>
                                </div>
                            </div>

                            <!-- Equals EBITDA -->
                            <div class="pt-2 border-t border-white/10">
                                <div class="flex justify-between text-sm mb-1 text-green-400">
                                    <span class="font-bold">(=) EBITDA (Net Profit)</span>
                                    <span class="font-bold">$0.9M</span>
                                </div>
                                <div class="wf-bar bg-green-500 w-[24%]">
                                    <span class="z-10 relative px-2 text-slate-900">24.3%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deep Dive Grid: Term Sheet & Use of Proceeds & Unit Economics -->
            <div class="grid lg:grid-cols-2 gap-12">
                
                <!-- Bond Term Sheet -->
                <div class="bg-slate-50 rounded-2xl p-8 border border-slate-200 h-full">
                    <div class="flex items-center gap-3 mb-6">
                        <i class="fa-solid fa-file-contract text-2xl text-teal-600"></i>
                        <h3 class="text-xl font-bold text-slate-900">Bond Term Sheet</h3>
                    </div>
                    <table class="w-full text-sm text-slate-600 fin-table">
                        <tbody>
                            <tr>
                                <td class="font-bold text-slate-800">Instrument</td>
                                <td class="text-right">5-Year Marine Sustainability Bond</td>
                            </tr>
                            <tr>
                                <td class="font-bold text-slate-800">Total Issue Size</td>
                                <td class="text-right font-mono">$2,000,000 USD</td>
                            </tr>
                            <tr>
                                <td class="font-bold text-slate-800">Coupon Structure</td>
                                <td class="text-right">
                                    <span class="block text-slate-900 font-bold">2.5% Fixed</span>
                                    <span class="block text-xs text-slate-500">+ 4.0% Variable (Performance Linked)</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="font-bold text-slate-800">Target Return</td>
                                <td class="text-right font-bold text-green-600">~6.5% Blended Yield</td>
                            </tr>
                            <tr>
                                <td class="font-bold text-slate-800">Covenants</td>
                                <td class="text-right">Annual Impact Audit (Verra/Gold Standard)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Unit Economics Visual Breakdown (4. FIXED: Restored Images) -->
                <div class="space-y-6">
                    <h4 class="text-sm font-bold text-slate-400 uppercase tracking-wide mb-2">CAPEX Breakdown (Per Hub: $150k)</h4>
                    <div class="grid grid-cols-2 gap-4">
                        <!-- Infrastructure -->
                        <div class="capex-card h-32" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjlmfelJgybDenQ1oQONZWIAQqNDaS2bKb-aT4J_5lWxjGCCif0F9VgI1FzoVlcEioH8zo_Kwr3jvs7Y6iPBD9F_Yp8N86n2Rz51DuWGh72-0YkN3NvftZOwvHZMhP-RBKbaypl0pdF1QA/s1600/Terrace-Container-House-in-Kall-Germany2.jpg');">
                            <div class="capex-overlay">
                                <div class="text-white font-bold text-lg">$80k</div>
                                <div class="text-teal-200 text-xs uppercase font-bold">Infrastructure (Container)</div>
                            </div>
                        </div>
                        <!-- Solar -->
                        <div class="capex-card h-32" style="background-image: url('https://images.unsplash.com/photo-1509391366360-2e959784a276?q=80&w=2072&auto=format&fit=crop');">
                            <div class="capex-overlay">
                                <div class="text-white font-bold text-lg">$40k</div>
                                <div class="text-teal-200 text-xs uppercase font-bold">Solar Grid</div>
                            </div>
                        </div>
                        <!-- Processing -->
                        <div class="capex-card h-32" style="background-image: url('https://www.pulian.com/cht/images/index_pro_pic01.jpg');">
                            <div class="capex-overlay">
                                <div class="text-white font-bold text-lg">$30k</div>
                                <div class="text-teal-200 text-xs uppercase font-bold">Processing Equip</div>
                            </div>
                        </div>
                        <!-- OPEX CARD -->
                        <div class="bg-slate-900 rounded-lg p-4 flex flex-col justify-center border border-slate-700">
                            <h5 class="text-slate-400 text-xs font-bold uppercase mb-2">OPEX (Annual)</h5>
                            <ul class="text-xs text-white space-y-2">
                                <li class="flex justify-between border-b border-slate-700 pb-1"><span>Labor:</span> <span>$25k</span></li>
                                <li class="flex justify-between border-b border-slate-700 pb-1"><span>Logistics:</span> <span>$15k</span></li>
                                <li class="flex justify-between"><span>Maint:</span> <span>$5k</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Impact Simulator (Separate Section) -->
    <section id="simulator" class="py-24 bg-slate-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900">Impact Simulator</h2>
                <p class="text-slate-600 mt-2 max-w-xl mx-auto">Forecast your social and environmental return based on investment size. This tool uses our Year 3 validated Unit Economics.</p>
            </div>

            <div class="bg-white border border-slate-200 rounded-3xl p-8 md:p-12 shadow-xl">
                <div class="grid lg:grid-cols-5 gap-12">
                    <div class="lg:col-span-2 space-y-8">
                        <div>
                            <label class="flex justify-between text-lg font-medium mb-4 text-slate-800">
                                <span>Investment Amount</span>
                                <span class="text-teal-600 font-bold text-2xl" id="invest-val">$2,000,000</span>
                            </label>
                            <input type="range" min="500000" max="5000000" step="100000" value="2000000" class="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer hover:bg-slate-300 transition" id="investmentRange">
                            <div class="flex justify-between text-xs text-slate-400 mt-2 font-mono">
                                <span>$500k</span>
                                <span>$5M</span>
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                            <h4 class="font-bold text-slate-800 mb-4 flex items-center text-sm uppercase tracking-wide">
                                Unit Economics (Per Hub)
                            </h4>
                            <ul class="space-y-3 text-sm text-slate-500">
                                <li class="flex justify-between border-b border-slate-200 pb-2"><span>CAPEX Required:</span> <span class="text-slate-900 font-mono">$150,000</span></li>
                                <li class="flex justify-between border-b border-slate-200 pb-2"><span>Capacity:</span> <span class="text-slate-900 font-mono">150t/yr</span></li>
                                <li class="flex justify-between pt-1"><span>Community Impact:</span> <span class="text-slate-900 font-mono">300 families</span></li>
                            </ul>
                        </div>
                    </div>

                    <div class="lg:col-span-3 grid grid-cols-2 gap-4">
                        <div class="bg-slate-50 p-6 rounded-2xl text-center border border-slate-100 card-hover group">
                            <div class="text-teal-500 text-2xl mb-2 group-hover:scale-110 transition"><i class="fa-solid fa-building"></i></div>
                            <div class="text-3xl font-bold text-slate-900 mb-1" id="res-hubs">12</div>
                            <div class="text-xs text-slate-500 uppercase font-bold">Community Hubs</div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl text-center border border-slate-100 card-hover group">
                            <div class="text-blue-500 text-2xl mb-2 group-hover:scale-110 transition"><i class="fa-solid fa-weight-hanging"></i></div>
                            <div class="text-3xl font-bold text-slate-900 mb-1" id="res-nets">1,800</div>
                            <div class="text-xs text-slate-500 uppercase font-bold">Tons Removed</div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl text-center border border-slate-100 card-hover group">
                            <div class="text-yellow-500 text-2xl mb-2 group-hover:scale-110 transition"><i class="fa-solid fa-users"></i></div>
                            <div class="text-3xl font-bold text-slate-900 mb-1" id="res-people">3,600</div>
                            <div class="text-xs text-slate-500 uppercase font-bold">Families Supported</div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl text-center border border-green-200 card-hover group relative overflow-hidden">
                            <div class="absolute inset-0 bg-green-500/10"></div>
                            <div class="text-green-500 text-2xl mb-2 group-hover:scale-110 transition relative z-10"><i class="fa-solid fa-chart-line"></i></div>
                            <div class="text-3xl font-bold text-slate-900 mb-1 relative z-10" id="res-revenue">$3.7M</div>
                            <div class="text-xs text-slate-500 uppercase font-bold relative z-10">Proj. Annual Revenue</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="py-24 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-teal-600 font-bold tracking-wider uppercase text-sm">Leadership</span>
                <h2 class="text-4xl font-bold text-slate-900 mt-2">Founder Market Fit</h2>
            </div>
            
            <div class="bg-slate-50 rounded-3xl shadow-lg border border-slate-100 p-8 md:p-12 text-center">
                <!-- 5. FIXED: Logan's Real Photo from LinkedIn -->
                <div class="w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden shadow-md border-4 border-white">
                     <img src="https://media.licdn.com/dms/image/v2/D5603AQHmyHCLawkZyg/profile-displayphoto-shrink_400_400/B56ZdpkBjLHoAg-/0/1749822741853?e=1766620800&v=beta&t=YZqGz7cYLlvne1OgMY_eARlgUAAvTE9BQKfmAN5Q9uk" alt="Logan Chang" class="w-full h-full object-cover">
                </div>
                
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Logan Chang</h3>
                <p class="text-teal-600 font-bold uppercase tracking-wide text-sm mb-4">Founder & CEO</p>
                
                <div class="mb-8">
                    <a href="https://www.linkedin.com/in/haoche/" target="_blank" class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-bold transition shadow-md">
                        <i class="fa-brands fa-linkedin"></i> Connect on LinkedIn
                    </a>
                </div>

                <p class="text-xl text-slate-600 italic max-w-2xl mx-auto mb-10 leading-relaxed">
                    "Bridging the gap between local community action and global financial markets to create a sustainable blue economy."
                </p>
                
                <div class="grid sm:grid-cols-2 gap-6 text-left max-w-3xl mx-auto mb-12">
                    <div class="flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition">
                        <div class="bg-teal-100 text-teal-600 w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-house-chimney"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-900">Place-making</h4>
                            <p class="text-sm text-slate-500">4-year Airbnb Host & Community Builder.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition">
                         <div class="bg-blue-100 text-blue-600 w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-recycle"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-900">Industry</h4>
                            <p class="text-sm text-slate-500">Ex-Veolia (Waste) & KPMG (Sustainability).</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition">
                         <div class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-landmark"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-900">Finance</h4>
                            <p class="text-sm text-slate-500">Commercial Banking & Shenzhen Stock Exchange.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition">
                         <div class="bg-purple-100 text-purple-600 w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-graduation-cap"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-900">Education</h4>
                            <p class="text-sm text-slate-500">NTU (Public Policy) & NSYSU (Finance).</p>
                        </div>
                    </div>
                </div>

                <div class="pt-8 border-t border-slate-200">
                    <p class="text-sm text-slate-400 uppercase tracking-widest font-bold mb-6">Experience & Affiliations</p>
                    <div class="flex flex-wrap justify-center gap-3">
                        <span class="org-badge"><i class="fa-brands fa-airbnb text-red-500"></i> Airbnb</span>
                        <span class="org-badge"><i class="fa-solid fa-file-contract text-blue-700"></i> KPMG</span>
                        <span class="org-badge"><i class="fa-solid fa-leaf text-red-600"></i> Veolia</span>
                        <span class="org-badge"><i class="fa-solid fa-building-columns text-slate-600"></i> NTU</span>
                        <span class="org-badge"><i class="fa-solid fa-school text-slate-600"></i> NSYSU</span>
                        <span class="org-badge"><i class="fa-solid fa-chart-line text-red-500"></i> SZSE</span>
                        <span class="org-badge"><i class="fa-solid fa-city text-blue-500"></i> New Taipei City</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-12 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex items-center justify-center gap-2 mb-4 text-white text-2xl font-serif font-bold">
                <i class="fa-solid fa-infinity text-teal-500"></i> Net-Weave
            </div>
            <p class="mb-8 text-slate-500">Turning waste into value, one net at a time.</p>
            <div class="flex justify-center gap-6 text-sm">
                <a href="#" id="privacy-link" class="hover:text-white transition">Privacy Policy</a>
                <a href="mailto:hchang325@bloomberg.net" class="hover:text-white transition">Contact Founder</a>
            </div>
            <div class="mt-8 text-xs text-slate-600">
                &copy; 2025 Net-Weave. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Privacy Policy Modal -->
    <div id="privacy-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal absolute top-4 right-4 text-gray-500 hover:text-gray-800 cursor-pointer text-2xl">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Privacy Policy</h2>
            <p class="text-sm text-gray-600 mb-4">Last Updated: March 2025</p>
            <div class="space-y-4 text-gray-700">
                <p><strong>1. Introduction</strong><br>Welcome to Net-Weave. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website.</p>
                <p><strong>2. Data We Collect</strong><br>We currently do not collect personal data through this demonstration website. Any data input into the simulators (e.g., investment amounts, net weights) is processed locally on your browser and is not stored on our servers.</p>
                <p><strong>3. Blockchain Transparency</strong><br>Please note that any transactions simulated on the Net-Weave blockchain ledger are public by design. Do not input real personal identification information into the demo interface.</p>
                <p><strong>4. Cookies</strong><br>We use essential cookies to ensure the website functions properly. We do not use tracking cookies for advertising purposes.</p>
                <p><strong>5. Contact Details</strong><br>For any questions regarding this policy, please contact the founder at hchang325@bloomberg.net.</p>
            </div>
        </div>
    </div>

    <script>
        // --- Modal Logic ---
        const modal = document.getElementById("privacy-modal");
        const btn = document.getElementById("privacy-link");
        const span = document.getElementsByClassName("close-modal")[0];

        btn.onclick = function(e) {
            e.preventDefault();
            modal.style.display = "block";
        }
        span.onclick = function() {
            modal.style.display = "none";
        }
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- Global Waste Counter Animation (Fixed to Kg) ---
        function startGlobalCounter() {
            const counterElement = document.getElementById('global-counter');
            let currentCount = 640000000; // 640,000 tons in kg
            // Increment ~20kg per second (approx)
            setInterval(() => {
                currentCount += 2; // Fixed constant increment 
                counterElement.innerText = Math.floor(currentCount).toLocaleString();
            }, 1000); // Slower update for easier reading
        }
        startGlobalCounter();

        // --- Map Tooltip Logic ---
        const mapData = {
            'haiphong': { title: 'Hai Phong Hub', near: 'Dinh Vu-Cat Hai EZ', partner: 'VinFast, LG Display', stats: '180t Collected' },
            'danang': { title: 'Da Nang Central', near: 'Hoa Khanh IZ', partner: 'Local Textile Co-ops', stats: '150t Collected' },
            'nhatrang': { title: 'Nha Trang Hub', near: 'Suoi Dau IZ', partner: 'Khatoco', stats: '120t Collected' },
            'vungtau': { title: 'Vung Tau / Dong Nai', near: 'Bien Hoa (Pou Chen)', partner: 'Pou Chen, Far Eastern', stats: '200t Collected' }
        };

        function showTooltip(evt, location) {
            const tooltip = document.getElementById('map-tooltip');
            const data = mapData[location];
            tooltip.innerHTML = `
                <div class="font-bold text-teal-600 border-b pb-1 mb-1">${data.title}</div>
                <div class="text-left space-y-1">
                    <div class="font-bold text-slate-700">Near: ${data.near}</div>
                    <div class="text-slate-500 text-xs">Partner: ${data.partner}</div>
                    <div class="text-teal-600 font-mono text-xs mt-1 font-bold">${data.stats}</div>
                </div>
            `;
            tooltip.style.display = 'block';
        }

        function hideTooltip() {
            document.getElementById('map-tooltip').style.display = 'none';
        }

        // --- 2. Live Demo Logic & Expanded Store ---
        let wallet = 0;
        
        // 24 Items Database
        const storeItems = [
            { name: "Rice (10kg)", cost: 300, icon: "fa-bowl-rice", cat: "food", desc: "Staple food" },
            { name: "Cooking Oil (5L)", cost: 450, icon: "fa-bottle-droplet", cat: "food", desc: "Essential supply" },
            { name: "Fish Sauce (Premium)", cost: 150, icon: "fa-bottle-water", cat: "food", desc: "Local necessity" },
            { name: "Canned Meat (Set)", cost: 200, icon: "fa-drumstick-bite", cat: "food", desc: "Protein source" },
            { name: "Fresh Vegetables", cost: 100, icon: "fa-carrot", cat: "food", desc: "Weekly supply" },
            
            { name: "Health Insurance", cost: 1500, icon: "fa-heart-pulse", cat: "health", desc: "1 Month Coverage" },
            { name: "Medicine Kit", cost: 500, icon: "fa-kit-medical", cat: "health", desc: "Basic first aid" },
            { name: "Panadol (Box)", cost: 50, icon: "fa-pills", cat: "health", desc: "Pain relief" },
            { name: "Vaccination Shot", cost: 800, icon: "fa-syringe", cat: "health", desc: "Flu/Tetanus" },
            { name: "Doctor Checkup", cost: 1000, icon: "fa-user-doctor", cat: "health", desc: "General visit" },

            { name: "School Fees", cost: 3000, icon: "fa-graduation-cap", cat: "education", desc: "1 Term" },
            { name: "Textbooks (Set)", cost: 600, icon: "fa-book", cat: "education", desc: "Full grade set" },
            { name: "School Uniform", cost: 400, icon: "fa-shirt", cat: "education", desc: "Shirt & Pants" },
            { name: "Notebooks (10pcs)", cost: 100, icon: "fa-pencil", cat: "education", desc: "Writing supplies" },
            { name: "English Course", cost: 2500, icon: "fa-language", cat: "education", desc: "Online access" },

            { name: "Net Repair Tool", cost: 250, icon: "fa-screwdriver-wrench", cat: "tools", desc: "Maintenance" },
            { name: "Solar Lantern", cost: 550, icon: "fa-lightbulb", cat: "tools", desc: "Night fishing" },
            { name: "Life Jacket", cost: 450, icon: "fa-vest", cat: "tools", desc: "Safety gear" },
            { name: "Waterproof Boots", cost: 350, icon: "fa-shoe-prints", cat: "tools", desc: "Heavy duty" },
            { name: "Phone Credit", cost: 100, icon: "fa-mobile-screen", cat: "tools", desc: "$5 Top-up" },
            { name: "Boat Fuel Voucher", cost: 1000, icon: "fa-gas-pump", cat: "tools", desc: "20 Liters" },
            { name: "Raincoat", cost: 150, icon: "fa-cloud-showers-heavy", cat: "tools", desc: "Durable" },
            { name: "Water Filter", cost: 1200, icon: "fa-faucet-drip", cat: "health", desc: "Clean water" },
            { name: "Community Rent", cost: 500, icon: "fa-shop", cat: "food", desc: "Stall fee" }
        ];

        function renderStore(filter = 'all') {
            const grid = document.getElementById('store-grid');
            grid.innerHTML = '';
            
            // Filter Logic
            let filtered = storeItems;
            if (filter !== 'all') {
                filtered = storeItems.filter(i => i.cat === filter);
            }
            
            // Sort by cost ascending
            filtered.sort((a, b) => a.cost - b.cost);
            
            filtered.forEach(item => {
                const div = document.createElement('div');
                div.className = "store-item w-full flex items-center justify-between p-3 bg-white border border-slate-200 rounded-xl mb-3 cursor-pointer group";
                div.onclick = () => redeemItem(item.cost, item.name);
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="bg-slate-100 text-slate-600 w-10 h-10 rounded-lg flex items-center justify-center text-lg group-hover:bg-teal-100 group-hover:text-teal-600 transition">
                            <i class="fa-solid ${item.icon}"></i>
                        </div>
                        <div class="text-left">
                            <div class="font-bold text-slate-800 text-sm">${item.name}</div>
                            <div class="text-xs text-slate-500">${item.desc}</div>
                        </div>
                    </div>
                    <div class="text-teal-600 font-bold text-sm group-hover:scale-110 transition">${item.cost} <span class="text-xs">pts</span></div>
                `;
                grid.appendChild(div);
            });
        }

        function filterItems(cat) {
            // Update button styles
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.dataset.filter === cat) {
                    btn.className = "px-3 py-1 rounded-full text-xs font-bold bg-teal-600 text-white filter-btn";
                } else {
                    btn.className = "px-3 py-1 rounded-full text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition filter-btn";
                }
            });
            renderStore(cat);
        }

        // Initialize Store
        renderStore();

        function depositNets() {
            const input = document.getElementById('net-input');
            const weight = parseFloat(input.value);
            const msg = document.getElementById('demo-msg');
            
            if (weight > 0) {
                const earned = weight * 15;
                wallet += earned;
                document.getElementById('wallet-balance').innerText = wallet.toLocaleString();
                msg.innerHTML = `<span class="text-green-600 font-bold">Success!</span> +${earned} credits deposited.`;
                input.value = '';
            } else {
                msg.innerHTML = `<span class="text-red-500">Please enter a valid weight.</span>`;
            }
        }

        function redeemItem(cost, itemName) {
            const msg = document.getElementById('demo-msg');
            if (wallet >= cost) {
                wallet -= cost;
                document.getElementById('wallet-balance').innerText = wallet.toLocaleString();
                msg.innerHTML = `<span class="text-blue-600 font-bold">Purchased!</span> ${itemName} added to inventory.`;
            } else {
                msg.innerHTML = `<span class="text-red-500 font-bold">Insufficient Funds.</span> Need ${cost - wallet} more pts.`;
            }
        }

        // --- 3. Financial Chart Logic ---
        const ctx = document.getElementById('financialChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                datasets: [
                    {
                        label: 'Nylon Sales (Physical)',
                        data: [0.6, 1.4, 2.7, 4.0, 5.2], // ~70-75% of revenue
                        backgroundColor: '#11caa0', // Teal
                        stack: 'Revenue'
                    },
                    {
                        label: 'Plastic Credits (Digital)',
                        data: [0.2, 0.5, 1.0, 1.5, 2.0], // ~25-30% of revenue
                        backgroundColor: '#f59e0b', // Gold/Yellow
                        stack: 'Revenue'
                    },
                    {
                        label: 'EBITDA Margin (%)',
                        data: [5, 12, 24.3, 26.5, 28],
                        type: 'line',
                        borderColor: '#2563eb',
                        borderWidth: 3,
                        pointBackgroundColor: '#ffffff',
                        pointBorderColor: '#2563eb',
                        pointBorderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.3
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    legend: { position: 'bottom', labels: { usePointStyle: true, font: { family: "'DM Sans', sans-serif" } } },
                    tooltip: { 
                        backgroundColor: 'rgba(15, 23, 42, 0.9)',
                        padding: 12,
                        titleFont: { size: 14, family: "'Merriweather', serif" },
                        bodyFont: { size: 13, family: "'DM Sans', sans-serif" },
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.dataset.type === 'line') {
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y + '%';
                                    }
                                } else {
                                    if (context.parsed.y !== null) {
                                        label += '$' + context.parsed.y + 'M';
                                    }
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        stacked: true, // Enable stacking
                        type: 'linear',
                        display: true,
                        position: 'left',
                        grid: { color: '#f1f5f9' },
                        title: { display: true, text: 'Revenue ($M)', font: { size: 12, weight: 'bold' } }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        grid: { drawOnChartArea: false },
                        title: { display: true, text: 'EBITDA %', font: { size: 12, weight: 'bold' } }
                    },
                    x: {
                        stacked: true, // Enable stacking
                        grid: { display: false }
                    }
                }
            }
        });

        // --- 4. Impact Simulator Logic ---
        const slider = document.getElementById('investmentRange');
        const investVal = document.getElementById('invest-val');
        const resHubs = document.getElementById('res-hubs');
        const resNets = document.getElementById('res-nets');
        const resPeople = document.getElementById('res-people');
        const resRevenue = document.getElementById('res-revenue');

        const COST_PER_HUB = 150000; 
        const NETS_PER_HUB = 150; 
        const FAMILIES_PER_HUB = 300;
        const REVENUE_PER_HUB = 308333; 

        function updateSimulation() {
            const investment = parseInt(slider.value);
            const effectiveCapital = investment * 0.9;
            const hubsCount = Math.floor(effectiveCapital / COST_PER_HUB);
            
            investVal.innerText = '$' + investment.toLocaleString();
            
            animateValue(resHubs, parseInt(resHubs.innerText) || 0, hubsCount, 300);
            animateValue(resNets, parseInt(resNets.innerText.replace(/,/g, '')) || 0, hubsCount * NETS_PER_HUB, 300);
            animateValue(resPeople, parseInt(resPeople.innerText.replace(/,/g, '')) || 0, hubsCount * FAMILIES_PER_HUB, 300);
            
            const revenue = (hubsCount * REVENUE_PER_HUB) / 1000000;
            resRevenue.innerText = '$' + revenue.toFixed(1) + 'M';
        }

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        slider.addEventListener('input', updateSimulation);
        updateSimulation();

    </script>
</body>
</html>

